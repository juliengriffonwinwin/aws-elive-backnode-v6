(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{307:function(e,r,t){"use strict";t.r(r);t(38);var o={name:"AdminUserLoginPage",layout:"public",auth:"guest",data:function(){return{codeError:null,messageError:null,user:{email:"julien.griffon@win-win.com",password:"julien.griffon@win-win.com"}}},methods:{adminUserLogin:function(){var e=this;this.codeError=this.messageError=null,console.log("admin > user > login > 1"),this.$store.dispatch("admin/user/login",{user:this.user}).then((function(r){console.log("admin > user > login > success");var t=r.data.user;e.$auth.setUser(t),e.$auth.setUserToken("".concat(e.$config.apiClientSecret,".").concat(e.$config.apiProjectSecret)),e.$auth.$storage.setUniversal("user",t,!0),e.$auth.$storage.setUniversal("_token.local","Bearer ".concat(e.$config.apiClientSecret,".").concat(e.$config.apiProjectSecret)),e.$router.push("/".concat(e.$i18n.locale,"/admin/projects"))})).catch((function(r){console.log(r),console.log("admin > user > login > error"),e.codeError=r.response.data.codeError,e.messageError=r.response.data.messageError}))}}},n=t(44),component=Object(n.a)(o,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("main",[t("h1",{staticClass:"text-2xl"},[e._v("\n    "+e._s(e.$t("admin.user.login.h1"))+"\n  ")]),e._v(" "),t("div",{attrs:{id:"form"}},[t("div",[t("label",{staticClass:"block",attrs:{for:"email"}},[e._v("\n        email*\n      ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"w-full py-2 px-3 border",attrs:{type:"text",placeholder:""},domProps:{value:e.user.email},on:{input:function(r){r.target.composing||e.$set(e.user,"email",r.target.value)}}})]),e._v(" "),t("div",[t("label",{staticClass:"block",attrs:{for:"password"}},[e._v("\n        password*\n      ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"w-full py-2 px-3 border",attrs:{type:"text",placeholder:""},domProps:{value:e.user.password},on:{input:function(r){r.target.composing||e.$set(e.user,"password",r.target.value)}}})])]),e._v(" "),t("div",{staticClass:"my-4"},[t("button",{staticClass:"text-white bg-blue-700 px-5 py-2",attrs:{type:"button"},on:{click:function(r){return e.adminUserLogin()}}},[e._v("\n      Login\n    ")])]),e._v(" "),e.codeError?t("div",{staticClass:"error"},[t("p",[e._v("\n      "+e._s(e.$t(e.codeError))+"\n    ")]),e._v(" "),t("p",[e._v("\n      "+e._s(e.messageError)+"\n    ")])]):e._e()])}),[],!1,null,null,null);r.default=component.exports}}]);