(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{308:function(e,r,t){"use strict";t.r(r);t(10),t(76),t(37),t(32),t(207);var o={name:"AdminUserSignupPage",layout:"public",auth:"guest",data:function(){return{codeError:null,messageError:null,errors:{company:!1,lastname:!1,firstname:!1,email:!1,password1:!1,password2:!1},user:{company:Math.random().toString(36).substr(2,5),job:Math.random().toString(36).substr(2,5),lastname:Math.random().toString(36).substr(2,5),firstname:Math.random().toString(36).substr(2,5),email:"julien.griffon@win-win.com",tel1:Math.random().toString(36).substr(2,5),password1:"test",password2:"test"}}},methods:{adminUserSignup:function(){var e=this;for(var r in this.codeError=this.messageError=null,console.log("admin > user > signup > 1"),Object.keys(this.errors).forEach((function(i){return e.errors[i]=!1})),this.errors)this.user[r]||(this.errors[r]=!0),"password1"===r&&this.user.password1!==this.user.password2&&(this.errors.password1=this.errors.password2=!0);Object.values(this.errors).every((function(e){return!1===e}))&&(console.log("admin > user > signup > 2"),this.user.password=this.user.password1,delete this.user.password1,delete this.user.password2,this.$store.dispatch("admin/user/signup",{user:this.user}).then((function(r){console.log("admin > user > signup > success"),e.$router.push("/".concat(e.$i18n.locale,"/admin/user/signupConfirm"))})).catch((function(r){console.log("admin > user > signup > error"),e.codeError=r.response.data.codeError,e.messageError=r.response.data.messageError})))}}},n=t(44),component=Object(n.a)(o,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("main",[t("h1",{staticClass:"text-2xl"},[e._v("\n    "+e._s(e.$t("admin.user.signup.h1"))+"\n  ")]),e._v(" "),t("div",{attrs:{id:"form"}},[t("div",{class:{error:e.errors.company}},[t("label",{staticClass:"block",attrs:{for:"company"}},[e._v("\n        company*\n      ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.company,expression:"user.company"}],staticClass:"w-full py-2 px-3 border",attrs:{type:"text",placeholder:""},domProps:{value:e.user.company},on:{input:function(r){r.target.composing||e.$set(e.user,"company",r.target.value)}}})]),e._v(" "),t("div",{class:{error:e.errors.job}},[t("label",{staticClass:"block",attrs:{for:"job"}},[e._v("\n        job\n      ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.job,expression:"user.job"}],staticClass:"w-full py-2 px-3 border",attrs:{type:"text",placeholder:""},domProps:{value:e.user.job},on:{input:function(r){r.target.composing||e.$set(e.user,"job",r.target.value)}}})]),e._v(" "),t("div",{class:{error:e.errors.lastname}},[t("label",{staticClass:"block",attrs:{for:"lastname"}},[e._v("\n        nom*\n      ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.lastname,expression:"user.lastname"}],staticClass:"w-full py-2 px-3 border",attrs:{type:"text",placeholder:""},domProps:{value:e.user.lastname},on:{input:function(r){r.target.composing||e.$set(e.user,"lastname",r.target.value)}}})]),e._v(" "),t("div",{class:{error:e.errors.firstname}},[t("label",{staticClass:"block",attrs:{for:"firstname"}},[e._v("\n        prénom*\n      ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.firstname,expression:"user.firstname"}],staticClass:"w-full py-2 px-3 border",attrs:{type:"text",placeholder:""},domProps:{value:e.user.firstname},on:{input:function(r){r.target.composing||e.$set(e.user,"firstname",r.target.value)}}})]),e._v(" "),t("div",{class:{error:e.errors.email}},[t("label",{staticClass:"block",attrs:{for:"email"}},[e._v("\n        email*\n      ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"w-full py-2 px-3 border",attrs:{type:"text",placeholder:""},domProps:{value:e.user.email},on:{input:function(r){r.target.composing||e.$set(e.user,"email",r.target.value)}}})]),e._v(" "),t("div",{class:{error:e.errors.tel1}},[t("label",{staticClass:"block",attrs:{for:"tel1"}},[e._v("\n        tel1\n      ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.tel1,expression:"user.tel1"}],staticClass:"w-full py-2 px-3 border",attrs:{type:"text",placeholder:""},domProps:{value:e.user.tel1},on:{input:function(r){r.target.composing||e.$set(e.user,"tel1",r.target.value)}}})]),e._v(" "),t("div",{class:{error:e.errors.password1}},[t("label",{staticClass:"block",attrs:{for:"password1"}},[e._v("\n        password1*\n      ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password1,expression:"user.password1"}],staticClass:"w-full py-2 px-3 border",attrs:{type:"text",placeholder:""},domProps:{value:e.user.password1},on:{input:function(r){r.target.composing||e.$set(e.user,"password1",r.target.value)}}})]),e._v(" "),t("div",{class:{error:e.errors.password2}},[t("label",{staticClass:"block",attrs:{for:"password2"}},[e._v("\n        password2*\n      ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password2,expression:"user.password2"}],staticClass:"w-full py-2 px-3 border",attrs:{type:"text",placeholder:""},domProps:{value:e.user.password2},on:{input:function(r){r.target.composing||e.$set(e.user,"password2",r.target.value)}}})])]),e._v(" "),t("div",{staticClass:"my-4"},[t("button",{staticClass:"text-white bg-blue-700 px-5 py-2",attrs:{type:"button"},on:{click:function(r){return e.adminUserSignup()}}},[e._v("\n      Créer mon compte\n    ")])]),e._v(" "),e.codeError?t("div",{staticClass:"error"},[t("p",[e._v("\n      "+e._s(e.$t(e.codeError))+"\n    ")]),e._v(" "),t("p",[e._v("\n      "+e._s(e.messageError)+"\n    ")])]):e._e(),e._v(" "),t("div",{staticClass:"my-4"},[e._v("\n    *champs obligatoires\n  ")]),e._v(" "),t("div",{staticClass:"my-4"},[t("nuxt-link",{staticClass:"text-blue-700",attrs:{to:"/"+e.$i18n.locale+"/"}},[e._v("\n      Annuler\n    ")])],1),e._v(" "),t("div",{staticClass:"my-4"},[e._v("\n    Vous possédez déjà un compte ?\n    "),t("nuxt-link",{staticClass:"text-blue-700",attrs:{to:"/"+e.$i18n.locale+"/admin/user/login"}},[e._v("\n      Identifiez-vous\n    ")])],1)])}),[],!1,null,null,null);r.default=component.exports}}]);