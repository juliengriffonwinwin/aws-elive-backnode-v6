(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{305:function(e,t,r){"use strict";r.r(t);var o=r(19),n=(r(10),r(37),r(32),r(24),r(207),{name:"AdminProjects",layout:"private",data:function(){var e;return{codeError:null,messageError:null,errors:(e={client:!1,project:!1,domain:!1,theme:!1},Object(o.a)(e,"theme",!1),Object(o.a)(e,"langs",!1),Object(o.a)(e,"startAt",!1),Object(o.a)(e,"endAt",!1),e),client:{name:""},project:{name:"",domain:"",theme:"",langs:{fr:!0,en:!0,es:!1,de:!1},startAt:"",endAt:""}}},methods:{adminProjectCreate:function(){var e=this;for(var t in this.codeError=this.messageError=null,console.log("admin > project > create > 1"),Object.keys(this.errors).forEach((function(i){return e.errors[i]=!1})),this.errors.client=this.errors.project=!1,this.client.name||(this.errors.client=!0),this.project.name||(this.errors.project=!0),this.errors)"client"!==t&&"project"!==t&&(this.client[t]||this.project[t]||(this.errors[t]=!0));Object.values(this.errors).every((function(e){return!1===e}))&&(console.log("admin > project > create > 2"),console.log(this.$auth.user),this.$store.dispatch("admin/project/create",{user:this.$auth.user,client:this.client,project:this.project}).then((function(t){console.log("admin > project > create > success"),e.$router.push("/".concat(e.$i18n.locale,"/admin/project/createConfirm"))})).catch((function(t){console.log("admin > project > create > error"),e.codeError=t.response.data.codeError,e.messageError=t.response.data.messageError})))}}}),c=r(44),component=Object(c.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",[r("h1",{staticClass:"text-2xl"},[e._v("\n    "+e._s(e.$t("admin.project.create.h1"))+"\n  ")]),e._v(" "),e._m(0),e._v(" "),r("div",{attrs:{id:"form"}},[r("div",{staticClass:"border-2 m-4"},[r("div",{class:{error:e.errors.client}},[r("label",{staticClass:"block",attrs:{for:"client"}},[e._v("\n          client\n        ")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.client.name,expression:"client.name"}],staticClass:"w-full py-2 px-3 border",attrs:{type:"text",placeholder:""},domProps:{value:e.client.name},on:{input:function(t){t.target.composing||e.$set(e.client,"name",t.target.value)}}})]),e._v(" "),r("div",{class:{error:e.errors.project}},[r("label",{staticClass:"block",attrs:{for:"project"}},[e._v("\n          project\n        ")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.project.name,expression:"project.name"}],staticClass:"w-full py-2 px-3 border",attrs:{type:"text",placeholder:""},domProps:{value:e.project.name},on:{input:function(t){t.target.composing||e.$set(e.project,"name",t.target.value)}}})]),e._v(" "),r("div",{class:{error:e.errors.domain}},[r("label",{staticClass:"block",attrs:{for:"domain"}},[e._v("\n          domain\n        ")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.project.domain,expression:"project.domain"}],staticClass:"w-full py-2 px-3 border",attrs:{type:"text",placeholder:""},domProps:{value:e.project.domain},on:{input:function(t){t.target.composing||e.$set(e.project,"domain",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"border-2 m-4"},[r("div",{class:{error:e.errors.theme}},[r("label",{staticClass:"block",attrs:{for:"theme"}},[e._v("\n          Choix du thème\n        ")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.project.theme,expression:"project.theme"}],staticClass:"w-full py-2 px-3 border",attrs:{type:"text",placeholder:""},domProps:{value:e.project.theme},on:{input:function(t){t.target.composing||e.$set(e.project,"theme",t.target.value)}}})]),e._v(" "),r("div",{class:{error:e.errors.langs}},[r("label",{staticClass:"block",attrs:{for:"langs"}},[e._v("\n          Langue du site (choix multiples)\n        ")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.project.langs,expression:"project.langs"}],staticClass:"w-full py-2 px-3 border",attrs:{type:"text",placeholder:""},domProps:{value:e.project.langs},on:{input:function(t){t.target.composing||e.$set(e.project,"langs",t.target.value)}}})]),e._v(" "),r("div",{class:{error:e.errors.startAt}},[r("label",{staticClass:"block",attrs:{for:"startAt"}},[e._v("\n          Date de début du projet\n        ")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.project.startAt,expression:"project.startAt"}],staticClass:"w-full py-2 px-3 border",attrs:{type:"text",placeholder:""},domProps:{value:e.project.startAt},on:{input:function(t){t.target.composing||e.$set(e.project,"startAt",t.target.value)}}})]),e._v(" "),r("div",{class:{error:e.errors.endAt}},[r("label",{staticClass:"block",attrs:{for:"endAt"}},[e._v("\n          Date de fin du projet\n        ")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.project.endAt,expression:"project.endAt"}],staticClass:"w-full py-2 px-3 border",attrs:{type:"text",placeholder:""},domProps:{value:e.project.endAt},on:{input:function(t){t.target.composing||e.$set(e.project,"endAt",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"border-2 m-4"},[r("strong",[e._v("\n        Rappel des informations :\n      ")]),e._v(" "),r("br"),e._v("\n      Client : "+e._s(e.client.name)+"\n      "),r("br"),e._v("\n      Project : "+e._s(e.project.name)+"\n      "),r("br"),e._v("\n      Domaine : "+e._s(e.project.domain)+"\n      "),r("br"),e._v("\n      Thème : "+e._s(e.project.theme)+"\n      "),r("br"),e._v("\n      Langues : "+e._s(e.project.langs)+"\n      "),r("br"),e._v("\n      Date de début du projet : "+e._s(e.project.startAt)+"\n      "),r("br"),e._v("\n      Date de fin du projet : "+e._s(e.project.endAt)+"\n      "),r("br"),e._v(" "),r("strong",[e._v("\n        Ces informations sont correctes ?\n      ")]),e._v(" "),r("br"),e._v(" "),r("div",{staticClass:"my-4"},[r("button",{staticClass:"text-white bg-blue-700 px-5 py-2",attrs:{type:"button"},on:{click:function(t){return e.adminProjectCreate()}}},[e._v("\n          Créer mon projet\n        ")])])])]),e._v(" "),e.codeError?r("div",{staticClass:"error"},[r("p",[e._v("\n      "+e._s(e.$t(e.codeError))+"\n    ")]),e._v(" "),r("p",[e._v("\n      "+e._s(e.messageError)+"\n    ")])]):e._e(),e._v(" "),r("div",{staticClass:"my-4"},[e._v("\n    tous les champs obligatoires\n  ")]),e._v(" "),r("div",{staticClass:"my-4"},[r("nuxt-link",{staticClass:"text-blue-700",attrs:{to:"/"+e.$i18n.locale+"/admin/projects"}},[e._v("\n      Annuler\n    ")])],1)])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[r("strong",{staticClass:"text-white bg-blue-700"},[e._v("\n        Etape 1\n      ")])]),e._v(" "),r("li",[r("strong",[e._v("\n        Etape 2\n      ")])]),e._v(" "),r("li",[r("strong",[e._v("\n        Etape 3\n      ")])])])}],!1,null,null,null);t.default=component.exports}}]);